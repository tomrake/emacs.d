;;;;          -*-  mode: lisp;  -*-

;;; The following lines added by ql:add-to-init-file:
#-quicklisp
(let ((quicklisp-init (merge-pathnames
                       "local-code-projects/my-code/common-lisp/setup.lisp"
                       (user-homedir-pathname))))
  (when (probe-file quicklisp-init)
    (load quicklisp-init))
  (print "loading Quicklisp"))
  
;;; Standard site directoires Thomas Rake
#+quicklisp
(let* ((user (first (last (pathname-directory (user-homedir-pathname)))))
       (shared-code #+win32 #P"C:/Users/Public/Documents/repos/") ; could add unix defaults
       (standard-lisp-home #+win32 (pathname (concatenate 'string "C:/Users/" user "/common-lisp/"))) ; count add unix defaults
       (paths))
;;;; Create path defaults based on the user
  (cond ((equalp user "zzzap")
	 (setf paths `(#P"C:/Users/zzzap/local-code-projects/my-code/common-lisp/local-attic/" ; very old code
		       ,standard-lisp-home
		       ,shared-code)))
        (t `(,standard-lisp-home ,shared-code)))
;;;; Add those paths that exist to quicklisp project directories.
  (dolist (p paths)
    (when (and p (probe-file p) (not (member p ql:*local-project-directories*)))
      (print (format t "Adding ~A to quicklisp local projects directory." p))
      (setf ql:*local-project-directories* (cons p ql:*local-project-directories*)))))




